# **ETL Pipeline Project**

![–°–∫—Ä–∏–Ω—à–æ—Ç](screen/pipeline.png)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π ETL-–ø–∞–π–ø–ª–∞–π–Ω, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Docker. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **Apache Airflow** ‚Äì –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á.
- **PostgreSQL** ‚Äì –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
- **Jupyter Notebook** ‚Äì –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **Apache Spark** ‚Äì –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
- **Apache Superset** ‚Äì –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
- **pyTelegramBotAPI** ‚Äì –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞.

## **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**
1. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–≤ –æ–¥–∏–Ω –∫–ª–∏–∫" —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è ETL –ø—Ä–æ—Ü–µ—Å—Å–∞. –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**, **–æ–±—É—á–µ–Ω–∏—è** –∏ **—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤** —Å ETL-–ø–∞–π–ø–ª–∞–π–Ω–∞–º–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

2. –°–æ–∑–¥–∞—Ç—å ETL-–ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö API SpaceX, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç:
 - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ API SpaceX.
 - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é Apache Spark.
 - –ó–∞–≥—Ä—É–∑–∫—É –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL.
 - –†–µ–∞–ª–∏–∑–∞—Ü–∏—é Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–∏–º –¥–∞–Ω–Ω—ã–º.
 - –ù–∞—Å—Ç—Ä–æ–π–∫—É –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–∞ –±–∞–∑–µ Apache Superset –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö.

## **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ**

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏, –∞ –Ω–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ —É—á—Ç–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å–µ—Ç–∏.

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

- –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:
–ú–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (–º–∏–Ω–∏–º—É–º 4 —è–¥—Ä–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 –∏ –±–æ–ª–µ–µ).
- –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å (RAM):
–ú–∏–Ω–∏–º—É–º 8 –ì–ë, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16 –ì–ë –∏ –≤—ã—à–µ.
- –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ:
–ú–∏–Ω–∏–º—É–º 10 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤ Docker –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ:
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Python 3.8+.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω–∞ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã Docker).

1. **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Docker, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—É—á–∞—é—â–∏–µ –∫—É—Ä—Å—ã.**
  
2. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   
   ```bash
   git clone https://example.com/your-repo.git

3. **–ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å (–∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É) –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º (cd '–ø—É—Ç—å') –∏ –ø—Ä–æ–ø–∏—à–∏—Ç–µ:**
   
   ```bash
   docker-compose up -d

–ï—Å–ª–∏ –∑–∞–ø—É—Å–∫ —É—Å–ø–µ—à–Ω—ã–π, —Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ —Å—Å—ã–ª–∫–∞–º –Ω–∏–∂–µ:
## Services

| **Service**         | **URL/Host**                        | **User**   | **Password** |
|----------------------|-------------------------------------|------------|--------------|
| **Airflow**          | [http://localhost:8080](http://localhost:8080) | admin    | admin      |
| **PostgreSQL**       | `http://localhost:5432`            | airflow    | airflow      |
| **Jupyter Lab**      | [http://localhost:10000/lab](http://localhost:10000/lab) | -          | -            |
| **Apache Superset**  | [http://localhost:8088](http://localhost:8088) | admin      | admin        |

4. **–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ–µ–∫—Ç–∞, –≤ —Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –ø–∏—à–µ–º:**
   
   ```bash
   docker-compose down

## **–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ API SpaceX –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ**

–ó–∞–ø—É—Å—Ç–∏–≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Airflow, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å DAG, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —ç—Ç–∞–ø–æ–≤:

1. **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö** ‚Äì –ø–µ—Ä–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–ø—É—Å–∫–∞—Ö SpaceX —á–µ—Ä–µ–∑ API –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äì –≤—Ç–æ—Ä–æ–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PySpark –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON-—Ñ–∞–π–ª–æ–º, –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV.
3. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** ‚Äì —Ç—Ä–µ—Ç–∏–π —Å–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL, —Å–æ–∑–¥–∞—ë—Ç —Å—Ö–µ–º—É –∏ —Ç–∞–±–ª–∏—Ü—É, –ø–æ—Å–ª–µ —á–µ–≥–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV-—Ñ–∞–π–ª–∞.
4. **–ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞** ‚Äì —á–µ—Ç–≤–µ—Ä—Ç—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `pyTelegramBotAPI`, –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Apache Superset
–í Superset —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∑–∞–ø—É—Å–∫–æ–≤ SpaceX (–¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ –±–¥):
- –î–∏–∞–≥—Ä–∞–º–º–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ª–µ—Ç–æ–≤.
- –ì—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—É—Å–∫–æ–≤ –ø–æ –≥–æ–¥–∞–º.

### üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å DAG
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π Telegram-—Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª–µ `src/consts`

### üöÄ –°–∫—Ä–∏–Ω—à–æ—Ç—ã
![–°–∫—Ä–∏–Ω—à–æ—Ç1](screen/cmd.png)
![–°–∫—Ä–∏–Ω—à–æ—Ç2](screen/ready.png)
![–°–∫—Ä–∏–Ω—à–æ—Ç3](screen/dag.png)
![–°–∫—Ä–∏–Ω—à–æ—Ç4](screen/tg_space_x.png)
![–°–∫—Ä–∏–Ω—à–æ—Ç5](screen/superset.png)
